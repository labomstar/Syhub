{% comment %}
  Preload LCP logo if exists in settings or fallback to shop.logo
{% endcomment %}

{% assign size = settings.logo_size %}

<h2 class="header__title" {{ block.shopify_attributes }}>
  {% if block.settings.logo == 'logo' %}
    {% if settings.logo != blank %}
      {% comment %}
        <img
          src="{{ settings.logo | image_url }}"
          alt="{{ shop.name }}"
          class="header__logo"
          width="{{ size }}"
          height="50"
          fetchpriority="high"
          decoding="async"
        >
      {% endcomment %}
      {%
        render 'image',
        src= settings.logo | image_url
        alt= shop.name
        class="header__logo"
        width= size
        height= size
        fetchpriority="high"
      %}
    {% elsif shop.logo %}
      {%
        render 'image',
        src= settings.logo | image_url
        alt= shop.name
        class="header__logo"
        width= size
        height= size
        fetchpriority="high"
      %}
      {% comment %}
        <img
          src="{{ shop.logo | image_url }}"
          alt="{{ shop.name }}"
          class="header__logo"
          width="{{ size }}"
          height="50"
          fetchpriority="high"
          decoding="async"
        >
      {% endcomment %}
    {% else %}
      {{ shop.name | link_to: routes.root_url }}
    {% endif %}
  {% elsif block.settings.logo == 'text' %}
    {{ shop.name | link_to: routes.root_url }}
  {% else %}
    <span class="header__logo-placeholder">Logo Placeholder</span>
  {% endif %}
</h2>

{% schema %}
{
  "name": "Title Logo Block",
  "settings": [
    {
      "type": "select",
      "id": "logo",
      "label": "Logo",
      "options": [
        {
          "value": "none",
          "label": "None"
        },
        {
          "value": "logo",
          "label": "Logo"
        },
        {
          "value": "text",
          "label": "Text"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Title Logo Block",
      "category": "Header"
    }
  ]
}
{% endschema %}
