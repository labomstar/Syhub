<div class="same-vendor-products max-w-7xl mx-auto py-8">
  <h2 class="text-2xl font-bold mb-4">More from {{ product.vendor }}</h2>
  
  <!-- Swiper wrapper -->
  <div class="swiper same-vendor-swiper">
    <div class="swiper-wrapper">
      {% assign vendor_products = collections.all.products | where: "vendor", product.vendor %}
      {% for p in vendor_products %}
        {% if p.id != product.id %}
          <div class="swiper-slide">
            <div class="product-card border p-4">
              <a href="{{ p.url }}">
                <img src="{{ p.featured_image | img_url: 'medium' }}" alt="{{ p.title }}" class="w-full mb-2"/>
                <h3 class="text-lg font-semibold mb-1">{{ p.title }}</h3>
                <p class="text-gray-700">{{ p.price | money }}</p>
              </a>
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>

    <!-- Navigation -->
    <div class="swiper-button-next"></div>
    <div class="swiper-button-prev"></div>
    
    <!-- Pagination (اختياري) -->
    <div class="swiper-pagination mt-4"></div>
  </div>
</div>

<!-- Swiper JS & CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css"/>
<script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    new Swiper('.same-vendor-swiper', {
      slidesPerView: 2,
      spaceBetween: 20,
      loop: true,
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
      breakpoints: {
        640: { slidesPerView: 2, spaceBetween: 20 },
        768: { slidesPerView: 3, spaceBetween: 24 },
        1024: { slidesPerView: 4, spaceBetween: 24 },
      }
    });
  });
</script>

{% schema %}
{
  "name": "Products from Same Vendor",
  "settings": [],
  "presets": [
    {
      "name": "Products from Same Vendor",
      "category": "Products"
    }
  ]
}
{% endschema %}
