{% comment %}
  This section is used in the collection template to render collection page
  listing all products within a collection.

  https://shopify.dev/docs/storefronts/themes/architecture/templates/collection
{% endcomment %}

{% assign number_of_product = section.settings.number_of_products_per_page %}
{%- assign box_width = settings.body_width -%}

<div class="px-4 py-8 mx-auto">
  <div class="{{ box_width }} mx-auto px-4">
    <div class="text-center">
      <a href="{{ routes.collections_url }}" class="text-base text-gray-500 hover:underline">Back To Collections</a>
      <h1 class="text-3xl font-bold text-headerColor mb-6">
        {{ collection.title }}
      </h1>
    </div>
    <div class="{{ box_width }} flex mx-auto relative">
      <div class="w-1/5 px-4 sticky top-0 h-[600px] overflow-y-scroll">
        {%- render 'collection-filter' -%}
      </div>
      <div class="w-4/5 collection-products">
        {% paginate collection.products by number_of_product %}
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            {% for product in collection.products %}
                {%- render 'product-card', product: product -%}
            {% else %}
              <p class="text-gray-500 col-span-full text-center">لا توجد منتجات تطابق الفلاتر المحددة.</p>
            {% endfor %}
          </div>
          <div class="mt-8">
            {%- render 'pagination', pagination: paginate -%}
          </div>
        {% endpaginate %}
      </div>
    </div>
  </div>
</div>


{% schema %}
{
  "name": "Template Collection",
  "settings": [
    {
      "type": "header",
      "content": "Item In Page"
    },
    {
      "type": "number",
      "id": "number_of_products_per_page",
      "label": "Number Of Products Per Page",
      "default": 6
    }
  ]
}
{% endschema %}
